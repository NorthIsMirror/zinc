# vim: ft=zsh ts=2 sw=2 et fenc=utf-8

function p10ks_battery_async_started () {
  # p10ks_battery[percent]="??"
  p10ks_battery[state]=""
  p10ks_battery[time_remaining]="..."
}

[[ "${(t)p10ks_battery}" != "association" ]] && {
  typeset -gA p10ks_battery
}

function _p10ks_battery_async_complete () {
  _p10k_segment_async_reset_status p10ks_battery
}

_p10k_add_hook _p10k_async_complete _p10ks_battery_async_complete

p10ks_battery_async_started "$@"
