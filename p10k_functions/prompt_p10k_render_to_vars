# vim: ft=zsh ts=2 sw=2 et fenc=utf-8

function prompt_p10k_render_to_vars () {

  tmpd=$(mktemp -d -p /tmp p10k_render_XXXX)

  p10k_render_prompt_from_spec p10k_left p10k_opts > $tmpd/prompt
  read -d $'\0' _P10K_RENDERED_OUTPUT_PROMPT < $tmpd/prompt
  p10k_render_prompt_from_spec p10k_right p10k_opts right > $tmpd/prompt
  read -d $'\0' _P10K_RENDERED_OUTPUT_RPROMPT < $tmpd/prompt

  rm -r $tmpd
}
