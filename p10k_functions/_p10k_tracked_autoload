# vim: ft=zsh ts=2 sw=2 et fenc=utf-8

# Load an fpath function only if not yet present.
function _p10k_tracked_autoload () {
  (( ${+functions[${1}]} )) || {
    builtin autoload -Uz +X $1 || {
      printf '%b\n' "\033[0;31mP10K: Could not find/load ${1}!\033[0;0m" >&2
    }
    _P10K_AUTOLOADED_FUNCTIONS+=("$1")
  }
}

typeset -gaU _P10K_AUTOLOADED_FUNCTIONS

_p10k_tracked_autoload "$@"
